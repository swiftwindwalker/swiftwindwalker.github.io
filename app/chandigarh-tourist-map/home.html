<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Explore Chandigarh & Tricity with our interactive map! Find top restaurants, cafes, museums, tourist spots, and hidden gems. Perfect for travelers and locals to discover the best places in Chandigarh, Mohali & Panchkula.">
    <link rel="stylesheet" href="/css/navbar.css">
    <title>Explore Chandigarh Tricity with Our Interactive Map</title>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-VS2WHLJQNE"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-VS2WHLJQNE');
    </script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script type="module" src="/js/onload.js"></script>
    <script type="module" src="/js/navbar.js"></script>
    <link rel="shortcut icon" href="/imgs/favicon.png" type="image/x-icon" />
    <style>
        :root {
            --primary: #4361ee;
            --primary-light: #4895ef;
            --secondary: #3f37c9;
            --accent: #4cc9f0;
            --success: #4ade80;
            --warning: #fbbf24;
            --danger: #f87171;
            --light: #f1f1f1;
            --dark: #1e293b;
            --gray: #94a3b8;
            --radius: 8px;
            --shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);
            --panel-width: 350px;
            --panel-transition: transform 0.3s ease-in-out;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            color: var(--dark);
            line-height: 1.6;
            overflow: hidden;
        }

        #map {
            position: absolute;
            top: 0;
            bottom: 0;
            width: 100%;
            z-index: 1;
        }

        /* Header and Filter Dropdown */
        .header-container {
            position: absolute;
            top: 10px;
            left: 10px;
            z-index: 100;
            display: flex;
            flex-direction: column;
            gap: 10px;
            max-width: 400px;
            width: 100%;
        }

        .app-header {
            background: white;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            padding: 10px 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .app-header h1 {
            font-size: 1.2rem;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .filter-toggle {
            background: white;
            border: none;
            padding: 8px 12px;
            border-radius: var(--radius);
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.9rem;
            cursor: pointer;
            box-shadow: var(--shadow);
        }

        .filter-toggle i {
            color: var(--primary);
        }

        .filter-dropdown {
            background: white;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            padding: 15px;
            display: none;
            max-height: 70vh;
            overflow-y: auto;
        }

        .filter-dropdown.active {
            display: block;
        }

        .filter-actions {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .filter-actions button {
            background: #e2e8f0;
            border: none;
            padding: 0.5rem;
            border-radius: 4px;
            font-size: 0.8rem;
            cursor: pointer;
            flex: 1;
        }

        .filter-options {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0.75rem;
        }

        .filter-option {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.5rem;
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: var(--radius);
            cursor: pointer;
        }

        .filter-option input {
            width: 18px;
            height: 18px;
            accent-color: var(--primary);
        }

        .filter-label {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.9rem;
        }

        .filter-label i {
            color: var(--primary);
            width: 20px;
            text-align: center;
        }

        /* Attractions Panel */
        .attractions-container {
            position: absolute;
            right: 0;
            top: 0;
            bottom: 0;
            width: var(--panel-width);
            background: #f1f1f1;
            box-shadow: var(--shadow);
            z-index: 100;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            transform: translateX(calc(var(--panel-width) - 40px));
            transition: var(--panel-transition);

        }

        .attractions-container.open {
            transform: translateX(0);
        }

        .attractions-handle {
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 30px;
            height: 80px;
            background: var(--primary);
            border-radius: var(--radius) 0 0 var(--radius);
            box-shadow: var(--shadow);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 10;
            color: white;
            margin-left: 5px;
        }

        .attractions-handle i {
            color: var(--primary);
            font-size: 1.2rem;
        }

        .attractions-handle i,
        .map-control-btn i {
            transition: all 0.3s ease;
        }

        .attractions-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            margin-left: 40px;
            overflow: hidden;
        }

        .attractions-header {
            padding: 15px;
            border-bottom: 1px solid #e2e8f0;
        }

        .attractions-header h3 {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 1rem;
        }

        #count {
            font-size: 0.9rem;
            color: var(--gray);
            font-weight: normal;
        }

        .attractions-list {
            flex: 1;
            overflow-y: auto;
            padding: 0 15px 15px;
        }

        .attraction-item {
            padding: 15px 0;
            border-bottom: 1px solid #e2e8f0;
            cursor: pointer;
        }

        .attraction-item:last-child {
            border-bottom: none;
        }

        .attraction-item:hover {
            background: var(--light);
        }

        .attraction-item h4 {
            color: var(--dark);
            margin-bottom: 0.5rem;
            font-size: 1rem;
        }

        .attraction-meta {
            display: flex;
            gap: 1rem;
            font-size: 0.85rem;
            color: var(--gray);
            margin-bottom: 0.75rem;
            flex-wrap: wrap;
        }

        .attraction-meta span {
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }

        .attraction-image {
            width: 100%;
            height: 120px;
            object-fit: cover;
            border-radius: var(--radius);
            margin-bottom: 0.75rem;
        }

        /* Map Controls */
        .map-controls {
            position: absolute;
            left: 20px;
            bottom: 20px;
            z-index: 100;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .map-control-btn {
            background: var(--primary);
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: var(--shadow);
            cursor: pointer;
            color: white;
        }

        .map-legend {
            position: absolute;
            bottom: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.9);
            padding: 0.75rem 1rem;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            z-index: 10;
            font-size: 0.85rem;
        }

        .map-legend div {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 0.25rem;
        }

        .map-legend i {
            width: 20px;
            text-align: center;
            color: var(--primary);
        }

        /* Mobile Responsiveness */
        @media (max-width: 768px) {
            :root {
                --panel-width: 100%;
            }

            .app-header h1 {
                font-size: 1rem;

            }

            .app-header {
                width: calc(var(--panel-width) - 50px);
            }

            .attractions-container {
                transform: translateX(calc(var(--panel-width) - 20px));
            }

            .attractions-handle {
                width: 15px;
                height: 80px;
            }

            /*
            .attractions-container.open {
                transform: translateX(15%);
            } 

            .attractions-handle {
                left: -40px;
                border-radius: 0 var(--radius) var(--radius) 0;
            }

            .attractions-content {
                margin-left: 40px;
            } */
        }

        /* Popup Styles */
        .leaflet-popup-content {
            width: 280px !important;
            margin: 1rem !important;
        }

        .leaflet-popup-content-wrapper {
            border-radius: var(--radius) !important;
            box-shadow: var(--shadow) !important;
        }

        .leaflet-popup-content h3 {
            color: var(--primary);
            margin-bottom: 0.75rem;
            font-size: 1.1rem;
        }

        .leaflet-popup-content img {
            width: 100%;
            height: 150px;
            object-fit: cover;
            border-radius: var(--radius);
            margin-bottom: 0.75rem;
        }

        .popup-meta {
            display: flex;
            gap: 1rem;
            font-size: 0.85rem;
            color: var(--gray);
            margin-bottom: 0.75rem;
            flex-wrap: wrap;
        }

        .popup-meta span {
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }

        .popup-description {
            margin-bottom: 1rem;
            font-size: 0.9rem;
        }

        .popup-link {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background: var(--primary);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: var(--radius);
            text-decoration: none;
            font-size: 0.85rem;
        }

        /* Marker Clusters */
        .marker-cluster {
            background: rgba(67, 97, 238, 0.2) !important;
        }

        .marker-cluster div {
            background: var(--primary) !important;
            color: white !important;
        }


    </style>
</head>

<body>
    <div id="map"></div>
    <div id="navbar-container" class="navbar-container"></div> <!-- Navbar will be inserted here via js-->

    <!-- Header and Filter Dropdown -->
    <div class="header-container">
        <div class="app-header">
            <h1><i class="fas fa-map-marked-alt"></i> Chandigarh: Places of Interest</h1>
            <button class="filter-toggle" id="filter-toggle">
                <i class="fas fa-filter"></i> Filters
            </button>
        </div>

        <div class="filter-dropdown" id="filter-dropdown">
            <div class="filter-actions">
                <button id="select-all">Select All</button>
                <button id="deselect-all">Deselect All</button>
            </div>
            <div class="filter-options" id="filter-options"></div>
        </div>
    </div>

    <!-- Attractions Panel -->
    <div class="attractions-container" id="attractions-container">
        <div class="attractions-handle" id="attractions-handle">
            <i id="chevron-handle" class="fa-solid fa-chevron-left"></i>
        </div>
        <div class="attractions-content">
            <div class="attractions-header">
                <h3><i class="fas fa-list"></i> Attractions <span id="count">(0)</span></h3>
            </div>
            <div class="attractions-list" id="attractions-list"></div>
        </div>
    </div>

    <!-- Map Controls -->
    <div class="map-controls">
        <button class="map-control-btn" id="locate-btn" title="Locate me">
            <i class="fas fa-location-arrow"></i>
        </button>
    </div>


    <!-- Map Legend -->
    <!--<div class="map-legend">
        <div><i class="fas fa-utensils"></i> Restaurants</div>
        <div><i class="fas fa-hotel"></i> Hotels</div>
        <div><i class="fas fa-coffee"></i> Cafe</div>
        <div><i class="fas fa-burger"></i> Fast Food</div>
        <div><i class="fas fa-landmark"></i> Historical</div>
        <div><i class="fas fa-toilet"></i> Toilets</div>
        <div><i class="fas fa-shopping-bag"></i> Shopping</div>
        <div><i class="fas fa-university"></i> Museums</div>
        <div><i class="fas fa-pray"></i> Religious</div>
        <div><i class="fas fa-tree"></i> Parks</div>
    </div> -->

    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet.markercluster@1.4.1/dist/leaflet.markercluster.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/js/all.min.js"></script>
    <script>
        // Initialize the map
        const map = L.map('map').setView([30.7333, 76.7794], 13);

        // Add tile layer
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.ravzzy.com">Ravzzy</a> &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(map);

        // Define attraction types and colors
        const attractionTypes = {
            restaurant: { icon: 'utensils', color: '#e63946' },
            hotels: { icon: 'hotel', color: '#14213d' },
            cafe: { icon: 'coffee', color: '#e07a5f' },
            fastfood: { icon: 'burger', color: '#e07a5f' },
            historical: { icon: 'landmark', color: '#f77f00' },
            toilet: { icon: 'toilet', color: '#6a4c93' },
            shopping: { icon: 'bag-shopping', color: '#457b9d' },
            museum: { icon: 'museum', color: '#588157' },
            religious: { icon: 'hands-praying', color: '#9d4edd' },
            park: { icon: 'tree', color: '#2a9d8f' }
        };

        // Create custom icon function
        function createCustomIcon(type) {
            return L.divIcon({
                className: 'custom-icon',
                html: `
                    <div style="
                        background: ${attractionTypes[type].color};
                        width: 36px;
                        height: 36px;
                        border-radius: 50%;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        color: white;
                        font-size: 16px;
                        box-shadow: 0 2px 5px rgba(0,0,0,0.2);
                        border: 2px solid white;
                    ">
                        <i class="fas fa-${attractionTypes[type].icon}"></i>
                    </div>
                `,
                iconSize: [36, 36],
                iconAnchor: [18, 18],
                popupAnchor: [0, -18]
            });
        }

        // Attractions data
        const attractions = [
            {
                id: 1,
                name: "The Taj Chandigarh, Sector 17",
                location: [30.7455673, 76.7851957],
                type: "hotels",
                price: "high",
                image: "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/2c/20/5c/cb/exterior.jpg?w=1400&h=800&s=1",
                description: "Luxury 5 Star hotel with modern amenities and fine dining.",
                website: "https://www.tajhotels.com/en-in/hotels/taj-chandigarh",
                openingHours: "7:00 AM - 11:00 PM",
                rating: "4.4/5"
            },
            {
                id: 2,
                name: "Rock Garden, Sector 1",
                location: [30.752879975542868, 76.80649565932481],
                type: "historical",
                image: "https://chandigarhtourism.gov.in/uploads/IMG_37281.jpg",
                description: "Sculpture garden built with industrial waste.",
                website: "https://chandigarhtourism.gov.in/pages/page/rock-garden",
                openingHours: "9:00 AM - 6:00 PM",
                rating: "4.4/5"
            },
            {
                id: 3,
                name: "Capitol Complex, Sector 1",
                location: [30.75904827892159, 76.80742950002143],
                type: "historical",
                image: "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/10/5c/50/39/massing-at-its-best.jpg?w=1800&h=-1&s=1",
                description: "UNESCO World Heritage Site.",
                website: "https://lecorbusier-worldheritage.org/en/complexe-du-capitole/",
                openingHours: "10:00 AM - 5:00 PM",
                rating: "4.1/5"
            },
            {
                id: 4,
                name: "Public Toilet - Sector 17",
                location: [30.738251481356752, 76.78251653879303],
                type: "toilet",
                description: "Clean public toilet facility.",
                openingHours: "24/7",
                rating: "4.0/5"
            },
            {
                id: 5,
                name: "Elante Mall, Industrial Area Phase 1",
                location: [30.705710185314032, 76.80116550953866],
                type: "shopping",
                price: "medium",
                image: "https://www.nexusselecttrust.com/resources/assets/images/nexus-elante/exterior/Exterior06.jpg",
                description: "A large shopping mall with various brands, eateries and a cinema hall.",
                website: "https://www.nexusselecttrust.com/nexus-elante",
                openingHours: "10:00 AM - 10:00 PM",
                rating: "4.6/5"
            },
            {
                id: 6,
                name: "Natural History Museum, Sector 10",
                location: [30.748104214525036, 76.7858826857841],
                type: "museum",
                image: "https://chdmuseum.gov.in//admin/uploads/background/6803a23d1c4810484ed6679342c00771.jpg",
                description: "The museum has four major sections entitled as Redefining Our Past, Cyclorama of Evolution of life, Dinosaur of India, and Human Evolution",
                website: "https://chdmuseum.gov.in/home/naturalhistorymuseum",
                openingHours: "10:00 AM - 4:30 PM",
                rating: "4.5/5"
            },
            {
                id: 7,
                name: "ISKCON Temple, Sector 36",
                location: [30.73437507682581, 76.7613288648137],
                type: "religious",
                image: "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/19/c7/92/0a/iskcon-temple-chandigarh.jpg?w=1400&h=800&s=1",
                description: "Beautiful Hare Krishna temple.",
                website: "https://www.iskconchandigarh.com/",
                openingHours: "4:30–5 AM, 7:15 AM – 12:45 PM, 4:15 – 8:30 PM",
                rating: "4.5/5"
            },
            {
                id: 8,
                name: "Back to Source, Sector 17",
                location: [30.743093087715465, 76.7864075909378],
                type: "cafe",
                price: "high",
                image: "https://lh3.googleusercontent.com/ZmRIYlveWJJaPhHR5UcZcNN6BvPNY_J9-AN_baOc1qIoR7KiU0kBqGeZKwCQQual19-SkPK3iBNoWiGEiWMR1_JNGxzU7Ts3qpM=s1800",
                description: "Plant-filled space offering coffee, pastries & meals made with thoughtfully sourced ingredients.",
                website: "https://back2source.in/",
                openingHours: "9:30 AM–11 PM",
                rating: "4.5/5"
            },
            {
                id: 9,
                name: "Dastaan, Sector 7",
                location: [30.729926060883713, 76.80183049014491],
                type: "restaurant",
                price: "high",
                image: "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1c/a4/96/e0/fb-img-1613325870627.jpg?w=1000&h=600&s=1",
                description: "Polished restaurant specializing in elevated traditional dishes, including curry & rice meals.",
                website: "https://www.swiggy.com/restaurants/dastaan-sector-7-sector26-32-chandigarh-64358/dineout?is_retargeting=true&media_source=GoogleReserve&utm_campaign=GoogleMap&utm_source=GoogleReserve",
                openingHours: "11:30 AM – 11:30 PM",
                rating: "4.4/5"
            },
            {
                id: 10,
                name: "Sukhna Lake, Sector 1",
                location: [30.744992597596827, 76.81003942402694],
                type: "historical",
                image: "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/16/8a/a0/07/this-photo-was-clicked.jpg?w=1400&h=-1&s=1",
                description: "Lively spot for boating on the lake, plus jogging, bird-watching & other waterside activities.",
                website: "https://chandigarhtourism.gov.in/pages/page/lake",
                openingHours: "5:00 AM – 9:00 PM",
                rating: "4.5/5"
            },
            {
                id: 11,
                name: "Garg Chaat, Sector 23",
                location: [30.737694368301323, 76.76647188717553],
                type: "fastfood",
                price: "low",
                image: "https://lh3.googleusercontent.com/p/AF1QipOYMoNBHzaAHqV4S7yUj45invt3zTFfYFLnzdhi=s1360-w1360-h1020",
                description: "Famous for its chaat and street food.",
                openingHours: "11:30 AM – 9 PM",
                rating: "4.1/5"
            },
            {
                id: 12,
                name: "Zakir Hussain Rose Garden, Sector 16",
                location: [30.747046102498206, 76.78292887962347],
                type: "park",
                price: "low",
                image: "https://lh3.googleusercontent.com/p/AF1QipMmKZWvMFEDlbPhfDUVMzWXUKdV6t2_E_OmnYEg=w400-h225-k-no",
                description: "Opened in 1967, this 30-acre botanical garden offers many rose varieties, walking paths & fountains.",
                openingHours: "09:00 AM – 10:00 PM",
                rating: "4.4/5"
            },
            {
                id: 13,
                name: "Plaza, Sector 17",
                location: [30.740557697307565, 76.78211117490336],
                type: "shopping",
                price: "low",
                image: "https://lh3.googleusercontent.com/gpms-cs-s/AIMqDu0zcy8hKPqZFjdLH-rDAGFPdHc9zh_0E6LG0saTI-AXWFEZngimsWW5BndkXT8GBNHh_jFblzuehUOqWdS3CTI1qJpYfGz3mR5xFQm3GXn4TlLY8e0SmAAsbL2Xqwq08Cilhqne=w400-h300-k-no",
                description: "Sector 17 Plaza is a popular shopping and entertainment hub. It is known for its open spaces, branded stores, local boutiques and various dining options.",
                openingHours: "10:00 AM – 8:00 PM",
                rating: "4.6/5"
            },
            {
                id: 14,
                name: "Leisure Valley, Sector 10",
                location: [30.754748654319272, 76.79404869036004],
                type: "park",
                price: "low",
                image: "https://lh3.googleusercontent.com/gpms-cs-s/AIMqDu3kEhUOaXyP0S2x5tdxAwXdsCB6QFKeV97xlqfp1gEs6Vnigrb-52PUDXWdjcUUfHFt993T5eHhU1OXjBSSHTaS7CTWo_CCxH27CazKKqUSaa0fEz_GpC8Czt1JSFSYfNHr6m9FQg=w400-h464-k-no",
                description: "Leisure Valley is a beautiful park located in Chandigarh, India. It is known for its lush greenery, well-maintained gardens, and serene atmosphere. The park is a popular spot for picnics, jogging, and leisurely walks.",
                openingHours: "5:00 AM – 9:00 PM",
                rating: "4.5/5"
            },
            {
                id: 15,
                name: "Gurudwara Sahib Ji Patshahi Dasvin, Sector 8",
                location: [30.742329042986515, 76.79490932213656],
                type: "religious",
                price: "low",
                image: "https://lh3.googleusercontent.com/p/AF1QipOEk2vTFhaYDzADceBH9Mkk1fZLqwp4Cl4N-Yxf=w400-h533-k-no",
                description: "A beautiful Gurudwara with a peaceful ambiance.",
                openingHours: "4:00 AM – 10:00 PM",
                rating: "4.8/5"
            },
            {
                id: 16,
                name: "Christ Church - C.N.I Diocese of Chandigarh, Sector 18",
                location: [30.735493173620867, 76.78701335827571],
                type: "religious",
                price: "low",
                image: "https://lh3.googleusercontent.com/p/AF1QipNw0j5omDlEdll-5T5CpXQTcAV-xNZshZHClHSO=w400-h225-k-no",
                description: "A beautiful church with stunning architecture.",
                rating: "4.6/5"
            },
            {
                id: 17,
                name: "Jama Masjid Chandigarh, Sector 20",
                location: [30.724512146352286, 76.7865541073747],
                type: "religious",
                price: "low",
                image: "https://lh3.googleusercontent.com/p/AF1QipM8Lz9XDIxcs3NtZlHG5vW2vwOrvFSPbsAo4-Ho=w400-h281-k-no",
                description: "A beautiful mosque with stunning architecture.",
                rating: "4.7/5"
            },
            {
                id: 18,
                name: "Ovenfresh, Sector 7",
                location: [30.729612596967787, 76.80135065842619],
                type: "cafe",
                price: "moderate",
                image: "https://lh3.googleusercontent.com/gpms-cs-s/AIMqDu1ItMP4QpEazdO4hohfJg-OZovqN3hmVAtaHoTSbMWx2N1192LXPoYW8R8nvIKtf5qKqAn_NCblUSpfhXQMM7uV3rZ2H63u8_3GJdq9GbHk3IJrxtfrxtX9hoz0LTAa_taMT_aj=w400-h300-k-no",
                openingHours: "11:00 AM – 11:00 PM",
                description: "A popular bakery and cafe known for its delicious pizzas, pastries and cakes.",
                rating: "4.5/5"
            },
            {
                id: 19,
                name: "Terraced Garden, Sector 33",
                location: [30.71443241034554, 76.77166724002808],
                type: "park",
                image: "https://lh3.googleusercontent.com/gpms-cs-s/AIMqDu058sjE-hyTysScp82no9TMiDHJcseZLiU1ax_j3ntrwlnEjFhmuw_fo02U5-bJFEdGhEO9HvRx3JBuqW99LQcG75HP2QtfiF0qRusPjeVQi3cU0VCT-1iLxpl-nnUfGCCehUvnOw=w400-h300-k-no",
                description: "Tranquil terraced garden with a musical fountain, walking paths & seasonal flower festivals.",
                openingHours: "5:30 AM – 9:00 PM",
                rating: "4.5/5"
            },
            {
                id: 20,
                name: "Chandigarh Architecture Museum, Sector 10",
                location: [30.748132464272324, 76.78701059155921],
                type: "museum",
                image: "https://lh3.googleusercontent.com/gpms-cs-s/AIMqDu2U-q0OXBN7Y8dPjJPTQQqaI9R7TS5e9SqL1g01DLn7SKj0py42V_NsuMvVC-5bB2bi3dWIJ1QQJZTgJIwm0OXXWFDZrwbU0iDHJnfIBmvoVo10_1RZ5pUnioisIpuGYEk3uQYj=w400-h299-k-no",
                description: "Museum showcasing Chandigarh's architectural history. Museum highlighting the effect that Le Corbusier's famous works of architecture had on the city.",
                openingHours: "9:45 AM – 4:30 PM",
                website: "https://chandigarhtourism.gov.in/pages/museums/chandigarh_architecture_museum",
                rating: "4.5/5"
            },
            {
                id: 21,
                name: "Fateh Burj - Baba Banda Singh Bahadur War Memorial, Sector 93, SAS Nagar",
                location: [30.703724291076465, 76.66835972315894],
                type: "historical",
                image: "https://lh3.googleusercontent.com/gps-cs-s/AB5caB_XExLnqBMqzoGkWAIKxKg5rPUCXnX0NR7lkt96-W1OmQAkmk-BE-X3cv6op6R2Uby7zEf0Hbr9MtgAV8MXLysbrxbqamAWAU6npsGCASMBwZr0RVMJdKRiaHR_3YkBoN-UK76R=s1360-w1360-h1020",
                description: "100-m. minaret dedicated to the Sikh military commander Baba Banda Singh Bahadur.",
                openingHours: "9:00 AM – 8:00 PM",
                rating: "4.5/5"
            },
            {
                id: 22,
                name: "JW Marriot, Sector 35",
                location: [30.726567096670653, 76.76719770468856],
                type: "hotels",
                image: "https://photos.hotelbeds.com/giata/original/21/210552/210552a_hb_p_001.jpg",
                description: "Luxury 5 Star hotel with modern amenities.",
                price: "high",
                openingHours: "24/7",
                website: "https://www.marriott.com/en-us/hotels/ixcjw-jw-marriott-hotel-chandigarh/overview/",
                rating: "4.5/5"
            },
            {
                id: 23,
                name: "The LaLiT, Rajiv Gandhi IT Park",
                location: [30.73061637751608, 76.8412475676239],
                type: "hotels",
                image: "https://lh3.googleusercontent.com/p/AF1QipM0hh24yjrsdzAwsWk5iT2MmjvJoI4o2ybkJ8Qw=w400-h197-k-no",
                description: "Luxury 5 Star hotel with modern amenities.",
                price: "high",
                openingHours: "24/7",
                website: "https://www.thelalit.com/the-lalit-chandigarh/",
                rating: "4.4/5"
            },
            {
                id: 24,
                name: "Swagath, Sector 26",
                location: [30.728485944115278, 76.80254755716716],
                type: "restaurant",
                image: "https://lh3.googleusercontent.com/gpms-cs-s/AIMqDu3lg33bwG1aXaDLG15BRGLkCXxpxJ6m7gBswrJpPVo1HVavZVLbJE-Jk4tzTk8KUPDLLAlJfgTeRFIL9Jy-nC5xldGsMJR1_43BCAWeG51OoLHR7E8sIXTGR-Zp7Plya8w_1FEbXg=w400-h286-k-no",
                description: "A wide variety of regional Indian seafood dishes served in a refined, earth-toned dining room.",
                price: "high",
                openingHours: "11 AM – 2 AM",
                website: "https://swagath.net/",
                rating: "4.3/5"
            },
            {
                id: 25,
                name: "Blue Tokai Coffee Roasters, Sector 8",
                location: [30.740079450109988, 76.79258533364188],
                type: "cafe",
                image: "https://lh3.googleusercontent.com/p/AF1QipMAl01RO3zbql_iTdPOuBSqzV737ZZobt0Jaj37=w400-h400-k-no",
                description: "Specialty coffee roasters with a cafe serving artisanal coffee & light bites in a modern space.",
                price: "medium",
                openingHours: "7 AM – 11 AM",
                website: "https://bluetokaicoffee.com/",
                rating: "4.4/5"
            },
            {
                id: 26,
                name: "Kake Da Hotel, Sector 28",
                location: [30.719082797608593, 76.80163740697917],
                type: "restaurant",
                image: "https://lh3.googleusercontent.com/gpms-cs-s/AIMqDu0KxJ3MtAlzllviHG93qq-bdChtDSdfAeHhIU2ZWkA9idvmrTif6Bxf1TzhAwT9ncBePVMHQhmPkhDBY-a9ZIkX133cJSbzPOVwLEjIDc4Xp7UqQPfVNLu71rUM6-qXUkx6hcYazA=w400-h533-k-no",
                description: "Punjabi restaurant known for its delicious North Indian cuisine.",
                price: "medium",
                openingHours: "11 AM – 2 AM",
                website: "https://www.kdhkakedahotel.com/",
                rating: "4.8/5"
            },
            {
                id: 27,
                name: "Le Corbusier Centre, Sector 19",
                location: [30.729831415609635, 76.7995062447861],
                type: "museum",
                image: "https://lh3.googleusercontent.com/p/AF1QipMgyfd3mv6o0qkPkWF4Pxxv-JhURwq1aeASRQfM=w400-h400-k-no",
                description: "Once the workplace of the architect Le Corbusier, this historic building traces the city's heritage.",
                price: "low",
                openingHours: "10 AM – 6 PM",
                website: "https://chandigarhtourism.gov.in/pages/museums/le_corbusier_centre/",
                rating: "4.4/5"
            },
            {
                id: 28,
                name: "Japanese Garden, Sector 31",
                location: [30.7045281030937, 76.78428513459814],
                type: "park",
                image: "https://lh3.googleusercontent.com/p/AF1QipPY4FltBioe4TQiYp8Zgne4Vgype3UsbMi0JpSq=w400-h323-k-no",
                description: "Japanese-themed park on 13 acres with gardens, pagodas & sculptures, plus eateries & water features.",
                openingHours: "5:00 AM – 9:00 PM",
                rating: "4.5/5"
            },
            {
                id: 29,
                name: "Pierre Jeanneret Museum, Sector 5",
                location: [30.744790754715176, 76.80758614626819],
                type: "museum",
                price: "low",
                website: "https://chandigarhtourism.gov.in/pages/museums/jeanneret",
                image: "https://lh3.googleusercontent.com/p/AF1QipNY5glwm-wXiZR8DUIMB3brvM2mWDqAzKZ40Ou0=w400-h533-k-no",
                description: "Pierre Jeanneret, a chief architect of the city, lived in Chandigarh for 11 years in House number 57, Sector 5, to assist and advise the local government. For honouring his contribution and keeping his memory alive, his house was converted into a museum.",
                openingHours: "10:00 AM – 5:00 PM",
                rating: "4.5/5"
            },
            {
                id: 30,
                name: "Bird Park - Aviary, Sector 1",
                location: [30.75199323543729, 76.81192811946956],
                type: "park",
                price: "low",
                image: "https://lh3.googleusercontent.com/gpms-cs-s/AIMqDu33cItp59s8auT8FhceJLrWI9ncHkEi4wuwBsHqO6O3vj7OqYcnxo7oarMkE83l7bqki8XGbQ1HEPrKX_cN4dZV252i350F-ZFHMHoTj2v1WHP9f-F4HQfboXIrnFIdcUigZ2Jw=w400-h300-k-no",
                description: "A beautiful park with a variety of birds and lush greenery.",
                website: "https://chandigarhtourism.in/city-forest-chandigarh",
                openingHours: "8:00 AM – 6:00 PM",
                rating: "4.5/5"
            },
            {
                id: 31,
                name: "Sagar Ratna, Sector 66, SAS Nagar",
                location: [30.657436877201143, 76.73904142046356],
                type: "restaurant",
                image: "https://lh3.googleusercontent.com/gpms-cs-s/AIMqDu0xef28uIrk7OsIJo51PADzs7ynAA-Yz4CxsXiuskAFrrMSq103YjgcqfTmpv-y-Abgf9tjeujAtCCnbvcavLqb9jA5iH4RUU8-1arhjx5-6q8kUN5WXmu8LMlweSw1oBrEVSPwtg=w400-h225-k-no",
                description: "Famous for its South Indian cuisine, especially dosa and idli.",
                price: "high",
                openingHours: "11 AM – 11 PM",
                website: "https://sagarratna.in/",
                rating: "4.1/5"
            },
            {
                id: 32,
                name: "Naidu South Indian Food, Sector 9, Panchukula",
                location: [30.694069680981652, 76.845334096063],
                type: "restaurant",
                image: "https://lh3.googleusercontent.com/p/AF1QipMvKLw8lHgXajLx7uQoW05-KR4AD5Ayx5JuWcgc=w400-h300-k-no",
                description: "Famous for its South Indian cuisine, especially dosa and idli.",
                price: "medium",
                openingHours: "9 AM – 10:30 PM",
                rating: "4.1/5"
            },
            {
                id: 33,
                name: "Barbeque Nation, Sector 26",
                location: [30.72602204446753, 76.80491118868574],
                type: "restaurant",
                image: "https://lh3.googleusercontent.com/p/AF1QipONLbjtlZ-g97vHU9yya_ASkR-msCM3zE2RroaU=w400-h225-k-no",
                description: "Popular chain for grilled meats & buffet dining in a casual setting.",
                website: "https://www.barbequenation.com/",
                price: "high",
                openingHours: "12 PM – 11 PM",
                rating: "4.4/5"
            },
            {
                id: 34,
                name: "Anardana, Industrial Area Phase 1",
                location: [30.709546507777628, 76.80093388034669],
                type: "restaurant",
                image: "https://lh3.googleusercontent.com/p/AF1QipN8_8ajpdMOhHKZxK5yXmyHBZjR-pcMiO3ljQAs=w400-h266-k-no",
                description: "Eclectic international dishes & cocktails prepped in a sophisticated venue with a swanky vibe.",
                website: "https://anardana.in/",
                price: "high",
                openingHours: "12 PM – 12 AM",
                rating: "4.7/5"
            },
            {
                id: 35,
                name: "Backpackers Cafe, Sector 8",
                location: [30.740156760860152, 76.79251202740949],
                type: "cafe",
                image: "https://lh3.googleusercontent.com/p/AF1QipMSl9JChGMSKy8EimamPVulBw55OCvYeghxJ4Q9=w400-h301-k-no",
                description: "A cozy cafe with a relaxed atmosphere, serving a variety of snacks and beverages.",
                website: "https://www.instagram.com/backpackerscafe/",
                price: "high",
                openingHours: "8:30 AM – 11:45 PM",
                rating: "4.3/5"
            },
            {
                id: 36,
                name: "Karthik South Indian Restaurant, Sector 47",
                location: [30.69736938402244, 76.76715985581636],
                type: "restaurant",
                image: "https://lh3.googleusercontent.com/p/AF1QipPHWMc3VVJ6CDMhCi9W9dbF2ApLtb8XPD-aX8H9=w400-h225-k-no",
                description: "Famous for its South Indian cuisine, especially dosa and idli. They have many chains within the city",
                price: "medium",
                openingHours: "8:00 AM – 10:30 PM",
                rating: "4.2/5"
            },
            {
                id: 37,
                name: "Baba Dairy, Sector 21",
                location: [30.724478385331548, 76.77870615781615],
                type: "restaurant",
                image: "https://lh3.googleusercontent.com/p/AF1QipPmM5E8gKzuMcl6hyr-yP8kbrcoQAuulShpWHRi=w400-h264-k-no",
                description: "Famous for its Sweets and North Indian cuisines, especially paneer dishes.",
                price: "medium",
                openingHours: "9:00 AM – 10:00 PM",
                rating: "4.3/5"
            },
            {
                id: 38,
                name: "Degchi, Sector 6, Panchkula",
                location: [30.705926998137162, 76.85699565823126],
                type: "restaurant",
                image: "https://lh3.googleusercontent.com/p/AF1QipP2o3sYgxqUV0SYqRPLFtpJjYow33bbtpOAM-8A=w400-h224-k-no",
                description: "One of the oldest and most popular restaurants in Panchkula, known for its North Indian cuisine.",
                price: "medium",
                openingHours: "11:30 AM – 11:00 PM",
                rating: "4.1/5"
            },
            {
                id: 39,
                name: "Softy Corner, Sector 17",
                location: [30.74064712132779, 76.78159196317702],
                type: "fastfood",
                image: "https://lh3.googleusercontent.com/p/AF1QipMZlIbbVhfCJP1EOwerjqKhFgtvaV1iFdikzxc3=w400-h533-k-no",
                description: "One of the oldest and most popular ice cream parlors in Chandigarh, known for its softy ice cream.",
                price: "low",
                openingHours: "11:00 AM – 09:30 PM",
                rating: "4.4/5"
            }


        ];
        
        

        // Store all markers and list items
        const allMarkers = [];
        const allListItems = [];

        // Initialize filters
        function initializeFilters() {
            const filterOptions = document.getElementById('filter-options');

            Object.keys(attractionTypes).forEach(type => {
                const typeData = attractionTypes[type];

                const filterOption = document.createElement('label');
                filterOption.className = 'filter-option';
                filterOption.innerHTML = `
                    <input type="checkbox" class="filter" value="${type}" checked>
                    <span class="filter-label"><i class="fas fa-${typeData.icon}"></i> ${type.charAt(0).toUpperCase() + type.slice(1)}</span>
                `;
                filterOptions.appendChild(filterOption);
            });

            // Attach change event listeners to filters
            document.querySelectorAll('.filter').forEach(filter => {
                filter.addEventListener('change', () => {
                    updateVisibleAttractions();
                });
            });
        }

        // Initialize attraction list and markers
        // Initialize attraction list and markers - UPDATED VERSION
        function initializeAttractions() {
            const listContainer = document.getElementById('attractions-list');

            attractions.forEach(attraction => {
                // Create marker
                const marker = L.marker(attraction.location, {
                    icon: createCustomIcon(attraction.type)
                });

                // UPDATED POPUP CONTENT WITH CONSISTENT BUTTONS
                let popupContent = `
            <h3>${attraction.name}</h3>
            ${attraction.image ? `<img src="${attraction.image}" alt="${attraction.name}" style="width:100%;height:150px;object-fit:cover;border-radius:8px;margin-bottom:10px;">` : ''}
            <div class="popup-meta">
                <span><i class="fas fa-${attractionTypes[attraction.type].icon}"></i> ${attraction.type.charAt(0).toUpperCase() + attraction.type.slice(1)}</span>
                ${attraction.rating ? `<span><i class="fas fa-star"></i> ${attraction.rating}</span>` : ''}
                ${attraction.openingHours ? `<span><i class="fas fa-clock"></i> ${attraction.openingHours}</span>` : ''}
            </div>
            <p class="popup-description">${attraction.description}</p>
            <div class="popup-actions" style="display: flex; gap: 10px; margin-top: 15px;">
        `;

                // Add Open in Maps button (now blue like website button)
                popupContent += `
            <a href="https://www.google.com/maps/search/?api=1&query=${attraction.location[0]},${attraction.location[1]}" 
               target="_blank" class="popup-link" style="background: var(--primary); color: white; text-decoration: none; padding: 8px 12px; border-radius: var(--radius); display: inline-flex; align-items: center; gap: 6px;">
                <i class="fas fa-map-marked-alt"></i> Open in Maps
            </a>
        `;

                // Add website button if available
                if (attraction.website) {
                    popupContent += `
                <a href="${attraction.website}" target="_blank" class="popup-link" style="background: var(--primary); color: white; text-decoration: none; padding: 8px 12px; border-radius: var(--radius); display: inline-flex; align-items: center; gap: 6px;">
                    <i class="fas fa-external-link-alt"></i> Official Website
                </a>
            `;
                }

                popupContent += `</div>`;

                // Bind popup to marker
                marker.bindPopup(popupContent);

                // Store marker with its type and id
                allMarkers.push({
                    marker: marker,
                    type: attraction.type,
                    id: attraction.id
                });

                // Create list item with matching buttons
                const item = document.createElement('div');
                item.className = 'attraction-item';
                item.dataset.id = attraction.id;
                item.dataset.type = attraction.type;

                item.innerHTML = `
            <h4>${attraction.name}</h4>
            <div class="attraction-meta">
                <span><i class="fas fa-${attractionTypes[attraction.type].icon}"></i> ${attraction.type.charAt(0).toUpperCase() + attraction.type.slice(1)}</span>
                ${attraction.rating ? `<span><i class="fas fa-star"></i> ${attraction.rating}</span>` : ''}
            </div>
            ${attraction.image ? `<img src="${attraction.image}" alt="${attraction.name}" class="attraction-image">` : ''}
            <div class="attraction-actions" style="display: flex; gap: 10px; margin-top: 12px;">
                <a href="https://www.google.com/maps/search/?api=1&query=${attraction.location[0]},${attraction.location[1]}" 
                   target="_blank" style="background: var(--primary); color: white; text-decoration: none; padding: 6px 10px; border-radius: var(--radius); display: inline-flex; align-items: center; gap: 5px; font-size: 0.85rem; flex: 1; justify-content: center;">
                    <i class="fas fa-map-marked-alt" style="font-size: 0.9rem;"></i> Maps
                </a>
                ${attraction.website ? `
                <a href="${attraction.website}" target="_blank" style="background: var(--primary); color: white; text-decoration: none; padding: 6px 10px; border-radius: var(--radius); display: inline-flex; align-items: center; gap: 5px; font-size: 0.85rem; flex: 1; justify-content: center;">
                    <i class="fas fa-external-link-alt" style="font-size: 0.9rem;"></i> Website
                </a>
                ` : ''}
            </div>
        `;

                item.addEventListener('click', () => {
                    map.setView(attraction.location, 16);
                    marker.openPopup();
                });

                listContainer.appendChild(item);
                allListItems.push(item);
            });

            updateVisibleAttractions();
        }
        // Update visible attractions based on selected filters
        function updateVisibleAttractions() {
            const selectedTypes = Array.from(document.querySelectorAll('.filter:checked')).map(f => f.value);
            let visibleCount = 0;

            // Update map markers visibility
            allMarkers.forEach(markerObj => {
                if (selectedTypes.includes(markerObj.type)) {
                    markerObj.marker.addTo(map);
                    visibleCount++;
                } else {
                    markerObj.marker.remove();
                }
            });

            // Update list items visibility
            allListItems.forEach(item => {
                if (selectedTypes.includes(item.dataset.type)) {
                    item.style.display = 'block';
                } else {
                    item.style.display = 'none';
                }
            });

            updateAttractionCount(visibleCount);
        }

        // Update the displayed count of visible attractions
        function updateAttractionCount(count) {
            document.getElementById('count').textContent = `(${count})`;
        }

        // Toggle filter dropdown
        const filterToggle = document.getElementById('filter-toggle');
        const filterDropdown = document.getElementById('filter-dropdown');

        filterToggle.addEventListener('click', (e) => {
            e.stopPropagation();
            filterDropdown.classList.toggle('active');
        });

        // Close filter dropdown when clicking outside
        document.addEventListener('click', (e) => {
            if (!filterDropdown.contains(e.target) && e.target !== filterToggle) {
                filterDropdown.classList.remove('active');
            }
        });
        // Toggle attractions panel
        // Wait for DOM to be fully loaded
        document.addEventListener('DOMContentLoaded', function () {
            // Get references to elements
            const attractionsContainer = document.getElementById('attractions-container');
            const attractionsHandle = document.getElementById('attractions-handle');

            // Only proceed if all required elements exist
            if (!attractionsContainer || !attractionsHandle) {
                console.error('Required elements not found in DOM');
                return;
            }

            function toggleAttractionsPanel() {
                console.log('Toggling panel...');
                const isNowOpen = attractionsContainer.classList.toggle('open');
                updateChevronIcons(isNowOpen);
            }

            function updateChevronIcons(isPanelOpen) {
                const handleIcon = document.getElementById('chevron-handle');

                if (handleIcon) {
                    const iconName = isPanelOpen ? 'chevron-right' : 'chevron-left';

                    // Font Awesome auto-replaces <i> with <svg>, so we update data-icon
                    handleIcon.setAttribute('data-icon', iconName);

                    // Optional: also update class to help with fallback
                    handleIcon.classList.remove('fa-chevron-right', 'fa-chevron-left');
                    handleIcon.classList.add(`fa-${iconName}`);

                } else {
                    console.warn('Chevron icons not found');
                }
            }

            // Initialize the panel state
            function initializePanel() {
                // Ensure panel starts closed
                attractionsContainer.classList.remove('open');

                // Set initial icons
                updateChevronIcons(false);

                // Set up event listeners
                attractionsHandle.addEventListener('click', toggleAttractionsPanel);
            }

            // Initialize the panel
            initializePanel();
        });

        // Select All/Deselect All functionality
        document.getElementById('select-all').addEventListener('click', () => {
            document.querySelectorAll('.filter').forEach(filter => {
                filter.checked = true;
            });
            updateVisibleAttractions();
        });

        document.getElementById('deselect-all').addEventListener('click', () => {
            document.querySelectorAll('.filter').forEach(filter => {
                filter.checked = false;
            });
            updateVisibleAttractions();
        });

        // Locate user functionality
        document.getElementById('locate-btn').addEventListener('click', () => {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(
                    position => {
                        const userLocation = [position.coords.latitude, position.coords.longitude];
                        map.setView(userLocation, 15);

                        L.marker(userLocation, {
                            icon: L.divIcon({
                                className: 'user-location-icon',
                                html: '<div style="background: #4361ee; width: 24px; height: 24px; border-radius: 50%; border: 3px solid white; box-shadow: 0 0 0 3px rgba(67,97,238,0.5);"></div>',
                                iconSize: [24, 24],
                                iconAnchor: [12, 12]
                            }),
                            zIndexOffset: 1000
                        }).addTo(map).bindPopup('Your location').openPopup();
                    },
                    error => {
                        alert('Unable to get your location: ' + error.message);
                    }
                );
            } else {
                alert('Geolocation is not supported by your browser');
            }
        });

        // Initialize the app
        initializeFilters();
        initializeAttractions();
    </script>
</body>

</html>